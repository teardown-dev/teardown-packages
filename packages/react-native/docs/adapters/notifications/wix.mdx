---
title: WixNotificationsAdapter
description: Notification adapter for Wix react-native-notifications library.
---

The `WixNotificationsAdapter` integrates with Wix's react-native-notifications library.

## Installation

```bash
npm install react-native-notifications
# or
bun add react-native-notifications
```

For iOS:
```bash
cd ios && pod install
```

## Usage

```typescript
import { TeardownCore } from '@teardown/react-native';
import { WixNotificationsAdapter } from '@teardown/react-native/wix';
import { DeviceInfoAdapter } from '@teardown/react-native/adapters/device-info';
import { AsyncStorageAdapter } from '@teardown/react-native/adapters/async-storage';

const teardown = new TeardownCore({
  org_id: 'your-org-id',
  project_id: 'your-project-id',
  api_key: 'your-api-key',
  storageAdapter: new AsyncStorageAdapter(),
  deviceAdapter: new DeviceInfoAdapter(),
  notificationAdapter: new WixNotificationsAdapter(),
});

// Access via NotificationsClient
if (teardown.notifications) {
  const status = await teardown.notifications.requestPermissions();
  if (status.granted) {
    const token = await teardown.notifications.getToken();
    console.log('Push token:', token);
  }
}
```

## Import Path

```typescript
import { WixNotificationsAdapter } from '@teardown/react-native/wix';
```

## API

All methods are accessed via `NotificationsClient`, not directly on the adapter.

### requestPermissions()

Request notification permissions:

```typescript
const status = await teardown.notifications.requestPermissions();
// Returns: { granted: boolean, canAskAgain: boolean }
```

### getToken()

Get the device push token:

```typescript
const token = await teardown.notifications.getToken();
// Returns: device token string or null
```

### onNotificationReceived()

Subscribe to foreground notifications:

```typescript
const unsubscribe = teardown.notifications.onNotificationReceived((notification) => {
  console.log('Received:', notification.title);
});

// Cleanup
unsubscribe();
```

### onNotificationOpened()

Subscribe to notification taps:

```typescript
const unsubscribe = teardown.notifications.onNotificationOpened((notification) => {
  console.log('User tapped:', notification.title);
});

// Cleanup
unsubscribe();
```

### onTokenRefresh()

Subscribe to token changes:

```typescript
const unsubscribe = teardown.notifications.onTokenChange((token) => {
  console.log('New token:', token);
});

// Cleanup
unsubscribe();
```

### onDataMessage()

Subscribe to data-only messages (silent push):

```typescript
const unsubscribe = teardown.notifications.onDataMessage((message) => {
  console.log('Data message:', message.data);
});

// Cleanup
unsubscribe();
```

## Configuration

### iOS

1. Enable Push Notifications capability in Xcode
2. Add to `AppDelegate.m`:

```objc
#import <RNNotifications.h>

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
  [RNNotifications startMonitorNotifications];
  return YES;
}

- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken {
  [RNNotifications didRegisterForRemoteNotificationsWithDeviceToken:deviceToken];
}

- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error {
  [RNNotifications didFailToRegisterForRemoteNotificationsWithError:error];
}
```

### Android

1. Add Firebase configuration (google-services.json)
2. Initialize in `MainApplication.java`:

```java
import com.wix.reactnativenotifications.RNNotificationsPackage;
```

## Platform

Returns `NotificationPlatformEnum.APNS` on iOS, `NotificationPlatformEnum.FCM` on Android.

## When to Use

- Existing projects using react-native-notifications
- Projects requiring fine-grained notification control
- Cross-platform notification handling

## Requirements

- `react-native-notifications` >= 4.0.0
- React Native >= 0.60
