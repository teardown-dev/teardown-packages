# Getting Started

This guide will walk you through installing and setting up the Teardown SDK in your React Native or Expo application.

## Installation

Install the core package:

```bash
bun add @teardown/react-native
```

### Peer Dependencies

Install required peer dependencies:

```bash
bun add react react-native zod
```

### Platform Adapters

#### For Expo Projects

```bash
bun add expo-application expo-device expo-updates
```

#### For React Native CLI Projects

```bash
bun add react-native-device-info
```

### Storage Adapter

Install MMKV for fast, encrypted storage:

```bash
bun add react-native-mmkv
```

## Initial Setup

### 1. Create SDK Configuration

Create a file to initialize the Teardown SDK (e.g., `lib/teardown.ts`):

```typescript
import { TeardownCore } from '@teardown/react-native';
import { ExpoDeviceAdapter } from '@teardown/react-native/expo';
import { createMMKVStorageFactory } from '@teardown/react-native/mmkv';

export const teardown = new TeardownCore({
  org_id: 'your-org-id',
  project_id: 'your-project-id',
  api_key: 'your-api-key',
  storageFactory: createMMKVStorageFactory(),
  deviceAdapter: new ExpoDeviceAdapter(),
  forceUpdate: {
    throttleMs: 30_000, // Check every 30 seconds when app returns to foreground
    checkCooldownMs: 300_000, // Wait 5 minutes between checks
  },
});
```

### 2. Wrap Your App with TeardownProvider

In your root layout file (e.g., `app/_layout.tsx` for Expo Router):

```typescript
import { TeardownProvider } from '@teardown/react-native';
import { teardown } from '../lib/teardown';

export default function RootLayout() {
  return (
    <TeardownProvider core={teardown}>
      <YourApp />
    </TeardownProvider>
  );
}
```

For traditional React Native:

```typescript
import { TeardownProvider } from '@teardown/react-native';
import { teardown } from './lib/teardown';

export default function App() {
  return (
    <TeardownProvider core={teardown}>
      <YourNavigationStack />
    </TeardownProvider>
  );
}
```

### 3. Use the SDK in Your Components

```typescript
import { useTeardown } from '@teardown/react-native';

function MyComponent() {
  const { core } = useTeardown();
  
  const handleLogin = async () => {
    const result = await core.identity.identify({
      user_id: 'user-123',
      email: 'user@example.com',
      name: 'John Doe',
    });
    
    if (result.success) {
      console.log('User identified:', result.data);
    }
  };
  
  return <Button onPress={handleLogin} title="Login" />;
}
```

## Configuration Options

### TeardownCore Options

| Option | Type | Required | Description |
|--------|------|----------|-------------|
| `org_id` | string | Yes | Your organization ID from Teardown dashboard |
| `project_id` | string | Yes | Your project ID from Teardown dashboard |
| `api_key` | string | Yes | Your API key from Teardown dashboard |
| `storageFactory` | function | Yes | Storage adapter factory (e.g., MMKV) |
| `deviceAdapter` | object | Yes | Device info adapter (Expo or RN) |
| `forceUpdate` | object | No | Force update configuration |

### Force Update Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `throttleMs` | number | 30000 | Minimum time between foreground checks (ms) |
| `checkCooldownMs` | number | 300000 | Minimum time since last successful check (ms) |

## Next Steps

- [Core Concepts](./02-core-concepts.mdx) - Understand the architecture
- [Identity & Authentication](./03-identity.mdx) - Manage user sessions
- [Force Updates](./04-force-updates.mdx) - Handle version management
